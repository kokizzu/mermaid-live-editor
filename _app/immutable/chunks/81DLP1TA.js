import{S as E,K as B,L as C,M as P,N as K,A as g,U as l,O as b,P as x,k as Z,Q as $,R as F,V as G,h as M,l as V,b as z,E as Q,c as W,W as X,f as H,X as J,Y as k,C as U,Z as p,_ as ee,$ as re,a0 as ne,u as Y,a1 as te,a2 as ae,a3 as ie,a4 as fe,a5 as ue,a6 as se}from"./D0cbGK1B.js";import{c as ve}from"./YkN13DnH.js";function w(n,v=null,y){if(typeof n!="object"||n===null||E in n)return n;const o=F(n);if(o!==B&&o!==C)return n;var i=new Map,d=G(n),m=P(0);d&&i.set("length",P(n.length));var h;return new Proxy(n,{defineProperty(f,e,r){(!("value"in r)||r.configurable===!1||r.enumerable===!1||r.writable===!1)&&$();var a=i.get(e);return a===void 0?(a=P(r.value),i.set(e,a)):b(a,w(r.value,h)),!0},deleteProperty(f,e){var r=i.get(e);if(r===void 0)e in f&&i.set(e,P(l));else{if(d&&typeof e=="string"){var a=i.get("length"),t=Number(e);Number.isInteger(t)&&t<a.v&&b(a,t)}b(r,l),j(m)}return!0},get(f,e,r){var _;if(e===E)return n;var a=i.get(e),t=e in f;if(a===void 0&&(!t||(_=x(f,e))!=null&&_.writable)&&(a=P(w(t?f[e]:l,h)),i.set(e,a)),a!==void 0){var u=g(a);return u===l?void 0:u}return Reflect.get(f,e,r)},getOwnPropertyDescriptor(f,e){var r=Reflect.getOwnPropertyDescriptor(f,e);if(r&&"value"in r){var a=i.get(e);a&&(r.value=g(a))}else if(r===void 0){var t=i.get(e),u=t==null?void 0:t.v;if(t!==void 0&&u!==l)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return r},has(f,e){var u;if(e===E)return!0;var r=i.get(e),a=r!==void 0&&r.v!==l||Reflect.has(f,e);if(r!==void 0||Z!==null&&(!a||(u=x(f,e))!=null&&u.writable)){r===void 0&&(r=P(a?w(f[e],h):l),i.set(e,r));var t=g(r);if(t===l)return!1}return a},set(f,e,r,a){var R;var t=i.get(e),u=e in f;if(d&&e==="length")for(var _=r;_<t.v;_+=1){var I=i.get(_+"");I!==void 0?b(I,l):_ in f&&(I=P(l),i.set(_+"",I))}t===void 0?(!u||(R=x(f,e))!=null&&R.writable)&&(t=P(void 0),b(t,w(r,h)),i.set(e,t)):(u=t.v!==l,b(t,w(r,h)));var c=Reflect.getOwnPropertyDescriptor(f,e);if(c!=null&&c.set&&c.set.call(a,r),!u){if(d&&typeof e=="string"){var O=i.get("length"),A=Number(e);Number.isInteger(A)&&A>=O.v&&b(O,A+1)}j(m)}return!0},ownKeys(f){g(m);var e=Reflect.ownKeys(f).filter(t=>{var u=i.get(t);return u===void 0||u.v!==l});for(var[r,a]of i)a.v!==l&&!(r in f)&&e.push(r);return e},setPrototypeOf(){K()}})}function j(n,v=1){b(n,n.v+v)}function q(n){return n!==null&&typeof n=="object"&&E in n?n[E]:n}function _e(n,v){return Object.is(q(n),q(v))}function ce(n,v,y){M&&V();var o=n,i,d;z(()=>{i!==(i=v())&&(d&&(X(d),d=null),i&&(d=W(()=>y(o,i))))},Q),M&&(o=H)}function oe(n,v,y,o){var T;var i=(y&ue)!==0,d=!ie||(y&fe)!==0,m=(y&te)!==0,h=(y&se)!==0,f=!1,e;m?[e,f]=ve(()=>n[v]):e=n[v];var r=E in n||ae in n,a=m&&(((T=x(n,v))==null?void 0:T.set)??(r&&v in n&&(s=>n[v]=s)))||void 0,t=o,u=!0,_=!1,I=()=>(_=!0,u&&(u=!1,h?t=Y(o):t=o),t);e===void 0&&o!==void 0&&(a&&d&&J(),e=I(),a&&a(e));var c;if(d)c=()=>{var s=n[v];return s===void 0?I():(u=!0,_=!1,s)};else{var O=(i?U:p)(()=>n[v]);O.f|=k,c=()=>{var s=g(O);return s!==void 0&&(t=void 0),s===void 0?t:s}}if(!(y&ee))return c;if(a){var A=n.$$legacy;return function(s,S){return arguments.length>0?((!d||!S||A||f)&&a(S?c():s),s):c()}}var R=!1,D=ne(e),N=U(()=>{var s=c(),S=g(D);return R?(R=!1,S):D.v=s});return i||(N.equals=re),function(s,S){if(arguments.length>0){const L=S?g(N):d&&m?w(s):s;return N.equals(L)||(R=!0,b(D,L),_&&t!==void 0&&(t=L),Y(()=>g(N))),s}return g(N)}}export{w as a,ce as c,_e as i,oe as p};
