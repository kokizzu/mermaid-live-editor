import{c as z,p as sn}from"./constant.6af51708.js";import{b2 as en,b3 as y,am as ln,b4 as G,b5 as P,b6 as K,b7 as k,b8 as rn,b9 as an,ba as t,bb as un,bc as on,bd as tn}from"./state.bbd198cf.js";function cn(l){return l.innerRadius}function fn(l){return l.outerRadius}function yn(l){return l.startAngle}function gn(l){return l.endAngle}function mn(l){return l&&l.padAngle}function pn(l,x,D,q,h,v,B,r){var s=D-l,n=q-x,m=B-h,i=r-v,a=i*s-m*n;if(!(a*a<y))return a=(m*(x-v)-i*(l-h))/a,[l+a*s,x+a*n]}function U(l,x,D,q,h,v,B){var r=l-D,s=x-q,n=(B?v:-v)/K(r*r+s*s),m=n*s,i=-n*r,a=l+m,c=x+i,f=D+m,E=q+i,o=(a+f)/2,I=(c+E)/2,p=f-a,g=E-c,A=p*p+g*g,O=h-v,T=a*E-f*c,S=(g<0?-1:1)*K(tn(0,O*O*A-T*T)),j=(T*g-p*S)/A,d=(-T*p-g*S)/A,R=(T*g+p*S)/A,b=(-T*p+g*S)/A,e=j-o,u=d-I,C=R-o,F=b-I;return e*e+u*u>C*C+F*F&&(j=R,d=b),{cx:j,cy:d,x01:-m,y01:-i,x11:j*(h/O-1),y11:d*(h/O-1)}}function hn(){var l=cn,x=fn,D=z(0),q=null,h=yn,v=gn,B=mn,r=null;function s(){var n,m,i=+l.apply(this,arguments),a=+x.apply(this,arguments),c=h.apply(this,arguments)-en,f=v.apply(this,arguments)-en,E=rn(f-c),o=f>c;if(r||(r=n=sn()),a<i&&(m=a,a=i,i=m),!(a>y))r.moveTo(0,0);else if(E>ln-y)r.moveTo(a*G(c),a*P(c)),r.arc(0,0,a,c,f,!o),i>y&&(r.moveTo(i*G(f),i*P(f)),r.arc(0,0,i,f,c,o));else{var I=c,p=f,g=c,A=f,O=E,T=E,S=B.apply(this,arguments)/2,j=S>y&&(q?+q.apply(this,arguments):K(i*i+a*a)),d=k(rn(a-i)/2,+D.apply(this,arguments)),R=d,b=d,e,u;if(j>y){var C=un(j/i*P(S)),F=un(j/a*P(S));(O-=C*2)>y?(C*=o?1:-1,g+=C,A-=C):(O=0,g=A=(c+f)/2),(T-=F*2)>y?(F*=o?1:-1,I+=F,p-=F):(T=0,I=p=(c+f)/2)}var H=a*G(I),J=a*P(I),L=i*G(A),M=i*P(A);if(d>y){var N=a*G(p),Q=a*P(p),V=i*G(g),W=i*P(g),w;if(E<an&&(w=pn(H,J,V,W,N,Q,L,M))){var X=H-w[0],Y=J-w[1],Z=N-w[0],$=Q-w[1],_=1/P(on((X*Z+Y*$)/(K(X*X+Y*Y)*K(Z*Z+$*$)))/2),nn=K(w[0]*w[0]+w[1]*w[1]);R=k(d,(i-nn)/(_-1)),b=k(d,(a-nn)/(_+1))}}T>y?b>y?(e=U(V,W,H,J,a,b,o),u=U(N,Q,L,M,a,b,o),r.moveTo(e.cx+e.x01,e.cy+e.y01),b<d?r.arc(e.cx,e.cy,b,t(e.y01,e.x01),t(u.y01,u.x01),!o):(r.arc(e.cx,e.cy,b,t(e.y01,e.x01),t(e.y11,e.x11),!o),r.arc(0,0,a,t(e.cy+e.y11,e.cx+e.x11),t(u.cy+u.y11,u.cx+u.x11),!o),r.arc(u.cx,u.cy,b,t(u.y11,u.x11),t(u.y01,u.x01),!o))):(r.moveTo(H,J),r.arc(0,0,a,I,p,!o)):r.moveTo(H,J),!(i>y)||!(O>y)?r.lineTo(L,M):R>y?(e=U(L,M,N,Q,i,-R,o),u=U(H,J,V,W,i,-R,o),r.lineTo(e.cx+e.x01,e.cy+e.y01),R<d?r.arc(e.cx,e.cy,R,t(e.y01,e.x01),t(u.y01,u.x01),!o):(r.arc(e.cx,e.cy,R,t(e.y01,e.x01),t(e.y11,e.x11),!o),r.arc(0,0,i,t(e.cy+e.y11,e.cx+e.x11),t(u.cy+u.y11,u.cx+u.x11),o),r.arc(u.cx,u.cy,R,t(u.y11,u.x11),t(u.y01,u.x01),!o))):r.arc(0,0,i,A,g,o)}if(r.closePath(),n)return r=null,n+""||null}return s.centroid=function(){var n=(+l.apply(this,arguments)+ +x.apply(this,arguments))/2,m=(+h.apply(this,arguments)+ +v.apply(this,arguments))/2-an/2;return[G(m)*n,P(m)*n]},s.innerRadius=function(n){return arguments.length?(l=typeof n=="function"?n:z(+n),s):l},s.outerRadius=function(n){return arguments.length?(x=typeof n=="function"?n:z(+n),s):x},s.cornerRadius=function(n){return arguments.length?(D=typeof n=="function"?n:z(+n),s):D},s.padRadius=function(n){return arguments.length?(q=n==null?null:typeof n=="function"?n:z(+n),s):q},s.startAngle=function(n){return arguments.length?(h=typeof n=="function"?n:z(+n),s):h},s.endAngle=function(n){return arguments.length?(v=typeof n=="function"?n:z(+n),s):v},s.padAngle=function(n){return arguments.length?(B=typeof n=="function"?n:z(+n),s):B},s.context=function(n){return arguments.length?(r=n??null,s):r},s}export{hn as a};
